(()=>{"use strict";var e={891:function(e,t,n){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function d(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,a,i,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,r[0]&&(d=0)),d;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return d.label++,{value:r[1],done:!1};case 5:d.label++,o=r[1],r=[0];continue;case 7:r=d.ops.pop(),d.trys.pop();continue;default:if(!((a=(a=d.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){d=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){d.label=r[1];break}if(6===r[0]&&d.label<a[1]){d.label=a[1],a=r;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(r);break}a[2]&&d.ops.pop(),d.trys.pop();continue}r=t.call(e,d)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.customizeOptionsButtons=t.customizeChatbotInit=t.customizeChatbot=t.customizeElement=t.setStyle=t.updateOptionsButtons=void 0;var r=document.head,l=document.createElement("meta");l.setAttribute("charset","UTF-8"),r.appendChild(l);var c=document.createElement("meta");c.setAttribute("name","viewport"),c.setAttribute("content","width=device-width, initial-scale=1.0"),r.appendChild(c);var s=document.createElement("title");s.textContent="ShiBot Widget",r.appendChild(s);var u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),r.appendChild(u);var p=document.createElement("link");p.setAttribute("rel","stylesheet"),p.setAttribute("href","./src/widget.css"),r.appendChild(p);var m=document.body,h=document.createElement("button");h.classList.add("chatbot-toggler");var v=document.createElement("span");v.classList.add("material-symbols-outlined"),v.textContent="mode_comment";var b=document.createElement("span");b.classList.add("material-symbols-outlined"),b.textContent="close",h.appendChild(v),h.appendChild(b);var C=document.createElement("div");C.classList.add("chatbot");var f=document.createElement("header"),y=document.createElement("h2");y.textContent="Welcome!";var g=document.createElement("span");g.classList.add("close-btn","material-symbols-outlined"),g.textContent="close";var E=document.createElement("div");E.classList.add("logo"),E.innerHTML="To ShiBOT live chat with AI company.<br>We're always online and ready to chat!",f.appendChild(y),f.appendChild(g),f.appendChild(E);var L=document.createElement("ul");L.classList.add("chatbox"),L.id="chatbot-container";var x=document.createElement("li");x.classList.add("chat","incoming");var k=document.createElement("span");k.classList.add("material-symbols-outlined"),k.textContent="smart_toy";var w=document.createElement("p");w.textContent="Hi! How can I help you?",x.appendChild(k),x.appendChild(w);var q=document.createElement("div");q.classList.add("parent-container");var T=document.createElement("li");T.classList.add("chat","quick-reply");var B=document.createElement("button");B.classList.add("quick-reply-button"),B.textContent="Choose option";var S=document.createElement("button");S.classList.add("quick-reply-button"),S.textContent="–ó–∞–º–æ–≤–∏—Ç–∏";var j=document.createElement("button");j.classList.add("quick-reply-button"),j.textContent="–ó–∞–º–æ–≤–∏—Ç–∏",T.appendChild(B),T.appendChild(S),T.appendChild(j),q.appendChild(T),document.createElement("div").classList.add("chat-input");var H=document.createElement("textarea");H.setAttribute("placeholder","–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..."),H.setAttribute("required","");var A=document.createElement("span");A.classList.add("material-symbols-outlined"),A.id="send-button",A.textContent="send";var O=document.createElement("span");O.classList.add("material-symbols-outlined"),O.id="mood-menu",O.textContent="mood";var _=document.createElement("span");_.classList.add("material-symbols-outlined"),_.id="drop-menu",_.textContent="more_vert",H.appendChild(H),H.appendChild(A),H.appendChild(O),H.appendChild(_);var R=document.createElement("div");R.classList.add("menu"),R.id="menu";var z=document.createElement("ul"),M=document.createElement("li");M.classList.add("menu-active"),M.id="report-issue";var P=document.createElement("span");P.classList.add("material-symbols-outlined"),P.textContent="flag",M.appendChild(document.createTextNode("Report an issue ")),M.appendChild(P),z.appendChild(M),R.appendChild(z);var I=document.createElement("div");I.classList.add("emoji-menu","menu"),I.id="emoji-menu";var N=document.createElement("div");N.classList.add("emoji-div");var D=document.createElement("ul");D.classList.add("emoji-list");var W=document.createElement("li");W.classList.add("menu-active"),W.setAttribute("data-emoji","üòÄ");var J=document.createElement("div");J.classList.add("emoji"),J.id="emoji",J.textContent="üòÄ",W.appendChild(J);var F=document.createElement("li");F.classList.add("menu-active"),F.setAttribute("data-emoji","üòé");var G=document.createElement("div");G.classList.add("emoji"),G.id="emoji",G.textContent="üòé",F.appendChild(G),D.appendChild(W),D.appendChild(F),N.appendChild(D),I.appendChild(N);var K=document.createElement("div");K.classList.add("emojis");var U=document.createElement("i");U.classList.add("fa-solid","fa-thumbs-down");var Q=document.createElement("i");Q.classList.add("fa-solid","fa-thumbs-up"),K.appendChild(U),K.appendChild(Q),m.appendChild(h),m.appendChild(h),m.appendChild(C),C.appendChild(f),C.appendChild(L),L.appendChild(x),L.appendChild(q),L.appendChild(q),C.appendChild(H),C.appendChild(R),C.appendChild(I),C.appendChild(K),document.documentElement.appendChild(r),document.documentElement.appendChild(m);var V,X=d(n(911)),Y=document.querySelector(".chat-input span"),Z=H.scrollHeight;H&&H.addEventListener("input",(function(){H.style.height="".concat(Z,"px"),H.style.height="".concat(H.scrollHeight,"px")}));var $=function(e,t){var n=document.createElement("li");n.classList.add("chat",t);var o="outgoing"===t?"<p></p>":'<span class="material-symbols-outlined">smart_toy</span><p></p>';n.innerHTML=o;var a=n.querySelector("p");if(a)a.textContent=e;else{var i=document.createElement("p");i.textContent=e,n.appendChild(i)}return n};H&&H.addEventListener("keydown",(function(e){"Enter"===e.key&&!e.shiftKey&&window.innerWidth>800&&(e.preventDefault(),te())}));var ee=!1;function te(){return a(this,void 0,void 0,(function(){var e,t,n,o,a,d,r;return i(this,(function(i){switch(i.label){case 0:V=H.value,H.value="",H.style.height="".concat(Z,"px"),L.appendChild($(V,"outgoing")),L.scrollTo(0,L.scrollHeight),e=$("Thinking...","incoming"),t=e.querySelector("p"),L.appendChild(e),L.scrollTo(0,L.scrollHeight),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,(0,X.default)("/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:V})})];case 2:return[4,i.sent().json()];case 3:return n=i.sent(),t.textContent=n.response,o=$(n.response,"incoming"),L.replaceChild(o,e),L.scrollTo(0,L.scrollHeight),[3,5];case 4:return a=i.sent(),console.error("Error:",a),d=$("Error occurred. Please try again.","incoming"),L.replaceChild(d,e),L.scrollTo(0,L.scrollHeight),[3,5];case 5:return ee||((r=document.createElement("div")).classList.add("rating-container"),L.appendChild(r),setTimeout((function(){var e=$("How would you rate this conversation? Choose emoji:","incoming");e.classList.add("rating-message");var t=document.createElement("div");t.classList.add("emoji-buttons"),["üòÉ","üòê","üòû"].forEach((function(e){var n=document.createElement("button");n.classList.add("emoji-button"),n.innerText=e,n.addEventListener("click",(function(){var t=$("–í–∏ –æ—Ü—ñ–Ω–∏–ª–∏ —Ä–æ–∑–º–æ–≤—É —è–∫: ".concat(e),"incoming");L.appendChild(t),L.scrollTo(0,L.scrollHeight)})),t.appendChild(n)})),e.appendChild(t),r.appendChild(e),L.scrollTo(0,L.scrollHeight),ee=!0}),3e3)),[2]}}))}))}function ne(e,t){t.text&&t.text.forEach((function(e,n){var o="quick-reply-button-".concat(n),a=document.createElement("button");a.className="quick-reply-button",a.textContent=e,a.id=o,a.addEventListener("click",(function(){var e,a,i=null===(e=t.buttonMessages)||void 0===e?void 0:e[o],d=void 0!==i?i:"Button ".concat(n+1," clicked");(a=$(d,"incoming")).querySelector("p"),L.appendChild(a),L.scrollTo(0,L.scrollHeight)})),T.appendChild(a)})),e.appendChild(T);for(var n=document.querySelectorAll(".quick-reply-button"),o=0;o<n.length-1;o++){var a=n[o];t.quickReplyButtonBackground&&(a.style.background=t.quickReplyButtonBackground),t.quickReplyButtonBorderBottom&&(a.style.borderBottom=t.quickReplyButtonBorderBottom)}var i=n[n.length-1];t.quickReplyButtonBackground&&(i.style.background=t.quickReplyButtonBackground),i.style.borderBottom="none"}function oe(e,t){Object.assign(e.style,t)}function ae(e,t){var n=document.querySelector(e);n&&oe(n,t)}function ie(e){var t,n,o,a;ae(".chatbot",{background:e.chatbotBackground}),ae(".chatbot-toggler",{background:e.chatbotTogglerBackground,right:null===(t=e.chatbotTogglerPosition)||void 0===t?void 0:t.right,bottom:null===(n=e.chatbotTogglerPosition)||void 0===n?void 0:n.bottom,height:null===(o=e.chatbotTogglerSize)||void 0===o?void 0:o.height,width:null===(a=e.chatbotTogglerSize)||void 0===a?void 0:a.width});var i=document.querySelector("h2");i&&e.headerMessage&&(i.innerHTML=e.headerMessage);var d=document.querySelector(".logo");d&&e.logoContent&&(d.innerHTML=e.logoContent)}function de(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);ie(o(o({},{}),n))}function re(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t),a=o(o({},{}),n),i=document.querySelector(".chat.quick-reply");i&&ne(i,a)}Y.addEventListener("click",te),h.addEventListener("click",(function(){return document.body.classList.toggle("show-chatbot")})),g.addEventListener("click",(function(){return document.body.classList.remove("show-chatbot")})),t.updateOptionsButtons=ne,t.setStyle=oe,t.customizeElement=ae,t.customizeChatbot=ie,t.customizeChatbotInit=de,t.customizeOptionsButtons=re,document.addEventListener("DOMContentLoaded",(function(){de(),re()}))},911:(e,t)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},t={};!function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(891)})();